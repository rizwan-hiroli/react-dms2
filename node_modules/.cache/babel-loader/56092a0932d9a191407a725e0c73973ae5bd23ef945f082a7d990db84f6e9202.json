{"ast":null,"code":"var _jsxFileName = \"/home/neosoft/Desktop/employee-crud-app-REACT-master/src/components/NeoEmployees.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from \"react\";\nimport { EmployeeCard } from \"./EmployeeCard\";\nimport { deleteEmployeeById, getAllEmployees, getEmployeesByName } from \"../model/EmployeeCRUD\";\nimport { useLoaderData } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function NeoEmployees() {\n  _s();\n  const nameNode = useRef();\n  const data = useLoaderData();\n  let [employees, setEmployees] = useState(data);\n  let [errorMessage, setMessage] = useState(\"\");\n  async function getEmps() {\n    const data = await getAllEmployees();\n    console.log(data);\n    setEmployees(data);\n  }\n  async function deleteEmployee(_id) {\n    //console.log(\"data from child:\"+_id);\n    const ans = window.confirm(\"Do you really want to delete?\");\n    if (ans) {\n      const data = await deleteEmployeeById(_id);\n      // console.log(data); \n      // if(data.deletedCount>0) /* data!=null */\n      // {\n      window.alert(\"Employee deleted successfully....\");\n      getEmps();\n      // }\n      // else{\n      //     getEmps();\n      //     window.alert(\"Something went wrong while deleting....\");\n      // }\n    }\n  }\n  async function searchEmp(emp_name) {\n    console.log(\"name\", emp_name);\n    if (emp_name !== \"\") {\n      const data = await getEmployeesByName(emp_name);\n      console.log(data);\n      if (data.length > 0) setEmployees(data);else setMessage(\"NOT FOUND\");\n    } else {\n      setMessage(\"\");\n      setEmployees(data);\n    }\n  }\n  useEffect(() => {\n    console.log(\"in useEffect\");\n    //    console.log(employees);\n    //    getEmps();\n  } /* ,[] */);\n  const employeeCards = employees.map((employee, i) => /*#__PURE__*/_jsxDEV(EmployeeCard, {\n    employee: employee,\n    deleteEmployee: deleteEmployee\n  }, 'e' + i, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 54\n  }, this));\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"m-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Employee name to search:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        ref: nameNode,\n        onKeyUp: () => searchEmp(nameNode.current.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-danger text-bold\",\n        children: [\" \", errorMessage]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: employeeCards\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n_s(NeoEmployees, \"2gwcf7YYrz9kM8sH2XiZp2fURes=\", false, function () {\n  return [useLoaderData];\n});\n_c = NeoEmployees;\nvar _c;\n$RefreshReg$(_c, \"NeoEmployees\");","map":{"version":3,"names":["useEffect","useRef","useState","EmployeeCard","deleteEmployeeById","getAllEmployees","getEmployeesByName","useLoaderData","jsxDEV","_jsxDEV","Fragment","_Fragment","NeoEmployees","_s","nameNode","data","employees","setEmployees","errorMessage","setMessage","getEmps","console","log","deleteEmployee","_id","ans","window","confirm","alert","searchEmp","emp_name","length","employeeCards","map","employee","i","fileName","_jsxFileName","lineNumber","columnNumber","children","className","type","ref","onKeyUp","current","value","_c","$RefreshReg$"],"sources":["/home/neosoft/Desktop/employee-crud-app-REACT-master/src/components/NeoEmployees.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport { EmployeeCard } from \"./EmployeeCard\";\nimport { deleteEmployeeById, getAllEmployees, getEmployeesByName } from \"../model/EmployeeCRUD\";\nimport { useLoaderData } from \"react-router-dom\";\n\n\nexport function NeoEmployees(){\n    const nameNode=useRef();\n    const data=useLoaderData();\n    let [employees, setEmployees]=useState(data); \n    let [errorMessage, setMessage]=useState(\"\");\n    async function getEmps(){\n        const data=await getAllEmployees();\n        console.log(data);\n        setEmployees(data);\n    }\n    async function deleteEmployee(_id){\n        //console.log(\"data from child:\"+_id);\n        const ans=window.confirm(\"Do you really want to delete?\");\n        if(ans){\n            const data=await deleteEmployeeById(_id);\n           // console.log(data); \n            // if(data.deletedCount>0) /* data!=null */\n            // {\n                window.alert(\"Employee deleted successfully....\");\n                getEmps();\n            // }\n            // else{\n            //     getEmps();\n            //     window.alert(\"Something went wrong while deleting....\");\n            // }\n                \n        }\n    }  \n    async function  searchEmp(emp_name){\n        console.log(\"name\", emp_name);\n        if(emp_name!==\"\")\n        {\n            const data=await getEmployeesByName(emp_name);\n            console.log(data);\n            if(data.length>0)\n                setEmployees(data);\n            else\n                setMessage(\"NOT FOUND\");\n        }\n        else{\n            setMessage(\"\");\n            setEmployees(data);\n        }\n            \n            \n    }\n    useEffect(()=>{ \n        console.log(\"in useEffect\");\n    //    console.log(employees);\n    //    getEmps();\n    }/* ,[] */)\n\n    const employeeCards=employees.map((employee, i)=><EmployeeCard key={'e'+i} employee={employee} deleteEmployee={deleteEmployee}></EmployeeCard>)\n    return(\n        <>\n        <section className=\"m-2\">\n            <label>Employee name to search:</label>\n            <input type=\"text\" ref={nameNode} onKeyUp={()=>searchEmp(nameNode.current.value)}></input>\n            <span className=\"text-danger text-bold\"> {errorMessage}</span>\n        </section>\n        <div className=\"row\">\n            {employeeCards}\n        </div>\n        </>\n      \n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}